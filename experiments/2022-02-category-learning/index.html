<!DOCTYPE html>
<html lang="en">

<script src="js-helpers.js" charset="utf-8"></script>
<!--<script src="transform-reps-cat-1.js" charset="utf-8"></script>-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Category Learning - Representations">
    <meta name="author" content="Mirko Thalmann, Akshay Jagadish, & Eric Schulz">
    <meta charset="utf-8">
    <title>Category Learning</title>

    <script src='https://cdn.firebase.com/js/client/1.1.1/firebase.js'></script>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.10.4/jquery-ui.min.js"></script>
    <link href="https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css">
    <link href="js/bootstrap.css" rel="stylesheet" type="text/css">

</head>

<body>
    <div class='container' style="width: 95%; height: 95%">
        <div id="page1" style="display:block;">
            <h1>Welcome to the experiment</h1>

            This experiment is part of a research project conducted
            by the <a href="http://cpilab.org/" target="_blank">Computational Principles of Intelligence Group</a>
            at the Max Planck Institute for Biological Cybernetics in Tuebingen, Germany.<br><br>

            <!-- images of town + Institute here-->
            <span>
                <img src="./pictures/tuebingen.jpg" height="300px">
                <img src="./pictures/mpi.jpg" height="300px">
                <figcaption style="font-size: 10px;">By Rabe! - Own work, CC BY-SA 3.0, <a
                        href=" https://commons.wikimedia.org/w/index.php?curid=33554043" target="_blank"> Source </a>
                </figcaption>
            </span>
            <br>
            Today, you are carrying out three tasks with friendly monsters.
            The different tasks are going to be explained to you on the next page.
            <br>

            To be eligible to participate, you <strong> MUST </strong> meet the following criteria:
            <ol>
                <li>Be 18 years of age or older.</li>
                <li>Be a fluent speaker of English.</li>
                <li>Have not previously participated in this experiment.</li>
            </ol>
            <b style="color:maroon;">Please use a device with a keyboard.
                Please do not accept this task if you are using a touch screen device, it will not work!</b>

            <h4>How much time will it take and how much can you earn?</h4>
            The study will take <b>approx 100 minutes</b>.<br>
            You will be paid <b>£5</b> pounds for participation plus a bonus of up to <b>£10</b> pounds depending on
            your performance.<br>
            <!-- Hence, the <b>expected payment is something around $6.00 to $7.00</b>. -->

            <h4>Confidentiality</h4>
            Your participation in this study will remain confidential.
            Your Prolific ID will NOT be shared with anyone outside the research team.

            <h4>Participation and withdrawal</h4>
            Your participation in this study is completely voluntary and you may refuse to participate<br>
            or you may choose to withdraw at any time.<br>
            However, you will only be paid for the participation upon completion<br>
            and if you enter the correct completion code provided at the end of the study.

            <h4>How to contact the researchers?</h4>
            If you have questions or concerns about your participation or payment
            or want to request a summary of research findings,
            please email the <a href="mailto:cpilab@tuebingen.mpg.de">researcher</a>
            or the <a href="mailto:eric.schulz@tuebingen.mpg.de">principal investigator</a> (Dr. Eric Schulz).


            <h4>Data protection</h4>
            This has to be changed yet<br>
            Your data will be anonymized and only used in the manner described in our data protection sheet,
            available <a href="https://kyblab.tuebingen.mpg.de/compositionalbandits/data_protection.pdf"
                target="_blank">here</a>
            (please do not fill out this sheet!).
            The following text box summarizes the main points. Please read it carefully and provide consent below:<br>
            <br>

            <textarea rows="10" cols="150" readonly>
The processing and use of the collected data occurs in a pseudoanonymized form within the scope of the legally prescribed provisions.
As a general rule, the storage occurs in the form of answered questionnaires, as well as electronic data, for a duration of 10 years or longer, if this is required by the purpose of the study.

By providing of further personal data in pseudoanonymized form, collected personal data may be used for the preparation of anonymized
scientific research work and may also be published and used in an anonymized form in medical journals and scientific publications, so that a direct assignment to my person cannot be established.

The information obtained during the course of this study may also be sent in an anonymized form to cooperation partners within the scope of
the European General Data Protection Regulation for scientific purposes and to cooperation partners outside of the European Union, i.e. to countries with a lower data protection level (this also applies to the USA).

The data collected within the scope of the study can also be used and processed in the future inside of the Max Planck Institute.

I was informed about my rights, that at any time:

I can withdraw this declaration of consent.

I can request information about my stored data and request the correction or blocking of data.

By cancellation of my participation in the study,
I can request that any personal data of mine collected until that point are immediately deleted or anonymized.

I can request that my personal data are handed out to me or to third parties (if technically feasible).

I herewith declare that:

I have been adequately informed about the collection and processing of my personal data and rights.

I consent to the collection and processing of personal data within the scope of the study and its pseudoanonymized disclosure,
so that only the persons conducting the study can establish a link between the data and my person.

Agreement:

I agree to participate in this experiment.

I consent to the use of my data described in the Data Protection Information Sheet
and confirm having received a copy of the Data Protection Sheet.

I consent to data transfer from the MPI for Biological Cybernetics encrypted database to the project-related collaborators:
inside of the Max Planck Society and affiliated research institutes, or at partnering institutions like the University of Tuebingen.
			</textarea>

            <br>
            <br>
            By selecting the consent option below,
            you acknowledge that you fulfill all of the participation criteria
            and you agree to your data being used as described.
            <br>
            <br>

            <button type="button" name="button" id="buttonConsentForm"
                onclick="route_instructions(parseInt(document.getElementById('condition_id').innerHTML));">I consent
                to participate</button><br><br>

        </div>
    </div>
    <div id="page2" style="display:none">
        <br>


        <h1>Welcome to Monster World</h1>
        <br>
        <!-- <div>
            <img src="./pictures/monster-example.PNG" height="300px">
        </div> -->
        <br>
        Today, you find yourself in <b>Monster World</b>.<br>
        In Monster World, you are introduced to a new species of friendly monsters.<br>
        All monsters differ from each other. Even though they come from the same planet, they are from different
        tribes.<br>
        The way the monsters differ from each other can be described according to variation in two dimensions:
        <br>
        <ol>
            <li>The spikiness of their head differs from not spiky to very spiky.</li>
            <li>The size of their belly varies from empty to full</li>
        </ol>
        Thus, monsters are going to look similar to this:
        <div>
            <img src="./pictures/monster-more-examples.PNG" height="300px">
        </div></br>
        <br>

        <h1>Instructions</h1>
        <p>
            Your session today will be split up into three parts.
        </p>
        <ol>
            <li>
                <b>Memory:</b> Remember the spikiness of the monster's head and
                the fill of the monster's belly. <br> You are presented
                with a monster only for a short period of time on every trial. <br>
                After that, you are required to adjust two sliders to reconstruct
                the head and the belly of the monster.<br>
                <b> --> Takes approx. 20 min</b><br>
            </li>
            <br>
            <li>
                <b>Categorization:</b> The monsters all look somewhat similar, but they
                come from different tribes. <br>Use the information about the
                spikiness of their head and the fill of their belly to
                gauge what tribes they are from.<br>
                You are going to get a feedback after every trial, which may
                help getting you started. <br>
                <b> --> Takes approx. 50 min</b><br>
                There will be breaks in between these 50 mins.
            </li>
            <br>
            <li>
                <b>Memory:</b> The third part will be the same as the first part. Try to remember
                the monsters presented on every trial.<br>
                <b> --> Takes approx. 20 min</b><br>
            </li>
            <br>
        </ol>
        <button type="button" name="bbutton" ; onclick="clickStart('page2', 'page1')" ;> Back </button>
        <button type="button" name="button" ; onclick="clickStart('page2', 'page3')" ;> Start
            Part 1 </button>

    </div>

    <div id="page2b" style="display:none">
        <br>


        <h1>Welcome to Monster World</h1>
        <br>
        <!-- <div>
            <img src="./pictures/monster-example.PNG" height="300px">
        </div> -->
        <br>
        Today, you find yourself in <b>Monster World</b>.<br>
        In Monster World, you are introduced to a new species of friendly monsters.<br>
        All monsters differ from each other.<br>
        The way the monsters differ can be described according to variation in two dimensions:
        <br>
        <ol>
            <li>The spikiness of their head differs from not spiky to very spiky.</li>
            <li>The size of their belly varies from empty to full</li>
        </ol>
        Thus, monsters are going to look similar to this:
        <div>
            <img src="./pictures/monster-more-examples.PNG" height="300px">
        </div></br>
        <br>

        <h1>Instructions</h1>
        <p>
            Your session today will be split up into three parts.
        </p>
        <ol>
            <li>
                <b>Memory 1:</b> Remember the spikiness of the monster's head and
                the fill of the monster's belly. <br> You are presented
                with a monster only for a short period of time on every trial. <br>
                After that, you are required to adjust two sliders to reconstruct
                the head and the belly of the monster.<br>
                <b> --> Takes approx. 20 min</b><br>
            </li>
            <br>
            <li>
                <b>Similarity:</b> Your task in the second memory part will be somewhat different.<br>
                You are asked to judge how similar the monster presented on the current trial is to the
                monster presented on the last trial.<br>
                To do so, use the numbers from 1-9 on the keyboard.<br>
                When the monster is exactly the same as on the previous trials, press 9.<br>
                When the monster looks very different (i.e., head and belly differ a lot), press 1.<br>
                <b> --> Takes approx. 50 min</b><br>
                There will be breaks in between these 50 mins.
            </li>
            <br>
            <li>
                <b>Memory 2:</b> The third part will be the same as the first part. Try to remember
                the monsters presented on every trial and use the sliders for reconstruction.<br>
                <b>Important: </b> You only have to remember the monster from the current trial again. You can forget
                about
                all previously presented monsters.<br>
                <b> --> Takes approx. 20 min</b><br>
            </li>
            <br>
        </ol>
        <button type="button" name="bbutton" ; onclick="clickStart('page2b', 'page1')" ;> Back </button>
        <button type="button" name="button" ; onclick="clickStart('page2b', 'page3')" ;> Start
            Part 1 </button>

    </div>


    <div id="condition_id" style="display:none">-1</div>
    <div id="n_categories" style="display:none">-1</div>
    <script>
        set_cond_and_cat()
    </script>
    <div id="trial_nr_cr_practice" style="display:none">0</div>
    <div id="trial_nr_cr1" style="display:none">0</div>
    <div id="part_reproduction" style="display:none">0</div>
    <div id="show_trial" style="display:none">0</div>
    <div id="time_var" style="display:none"></div>

    <div id="page3" style="display:none">
        <h1>Ready for the memory task?</h1>
        <p>If you feel prepared to start, please press the button below <br>
            Remember the spikiness of the monster's head and
            the fill of the monster's belly. Try hard! <br>You are presented
            with a monster only for a short period of time on every trial. <br>
            After that, you are required to adjust two sliders to reconstruct
            the head and the belly of the monster. <br>
            You are given three practice trials to get used to the procedure.
        </p>
        <script>
            var i = parseInt(document.getElementById("trial_nr_cr1").innerHTML)
        </script>
        <button type="button" name="button" ; onclick="next_item_cr('page3')" ;> Start
            Practice Trials </button>

    </div>

    <div id="page3.1" style="display:none">
        <h1>Practice is Over</h1>
        <p>The practice trials are now over. Press the button below to start with the Memory Task.
        </p>
        <script>
            var i = parseInt(document.getElementById("trial_nr_cr1").innerHTML)
        </script>
        <button type="button" name="button" ; onclick="next_item_cr('page3.1')" ;> Start
            Memory Task </button>

    </div>

    <div id="page4" style="display:none">

        <head>


            <style>
                .slidecontainer {
                    width: 100%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .slider {
                    -webkit-appearance: none;
                    width: 20%;
                    height: 10px;
                    background: #d3d3d3;
                    outline: none;
                    opacity: 0.7;
                    -webkit-transition: .2s;
                    transition: opacity .2s;
                }

                .slider:hover {
                    opacity: 1;
                }

                .slider::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    appearance: none;
                    width: 20px;
                    height: 20px;
                    background: #04AA6D;
                    cursor: pointer;
                }

                .slider::-moz-range-thumb {
                    width: 20px;
                    height: 20px;
                    background: #04AA6D;
                    cursor: pointer;
                }
            </style>
        </head>

        <body>

            <div style="text-align: center;">
                <img src="./stimuli/stimulus-1.PNG" height="300px" id="selected_monster">
            </div></br>

            <p>Drag the two sliders to reproduce the monster you just have seen.</p>

            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange1">
                <p style="text-align: center">Head : <span id="demo1"></span></p>
            </div>

            <div class="slidecontainer">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange2">
                <p style="text-align: center">Belly: <span id="demo2"></span></p>
            </div>

            <!--let the participants adjust the two sliders and show them what monster results-->
            <script>
                let x = slide_adjust();
                var i = parseInt(document.getElementById("trial_nr_cr1").innerHTML)
            </script>
            <button type="button" name="button" ; onclick="my_link()" ;> Submit
                Response</button>
        </body>
    </div>
    <br>


    <div id="page5" style="display:none;">
        <div style="text-align: center;">
            <img height="300px" id="item_displayed_2">
        </div><br>

    </div>
    <br>


    <div id="page6" style="display:none">
        <h1>
            Well done! That was it for part 1!
        </h1>
        <p>
            By clicking on the button below, you get to the second part of the experiment
        </p>
        <button type="button" name="button" ;
            onclick="route_categorization(parseInt(document.getElementById('condition_id').innerHTML))" ;> Instructions
        </button>
    </div>

    <div id="page7" style="display:none">
        <h1>
            Part two of the experiment
        </h1>
        <p>
            In the second part, your task is to categorize the monsters into <span id="myText"></span> categories.<br>
            You can use the number keys on your keyboard to give responses in the task.<br>
            The numbers correspond to the respective category:<br>
            For example, "1" on your keyboard corresponds to category 1.
            "2" on your keyboard corresponds to category 2.
            And so on.<br>
            After every response you are given feedback whether your response was correct or not.<br>
            In the latter case the category that would have been true is going to be displayed to you.
        </p>
        <script>
                (() => {
                    document.getElementById("myText").innerHTML = document.getElementById("n_categories").innerHTML;
                })();
        </script>
        <button type="button" name="button" ; onclick="clickStart('page7', 'page8')" ;> Start
            Categorization</button>
    </div>

    <div id="page7b" style="display:none">
        <h1>
            Part two of the experiment
        </h1>
        <p>
            In the second part, your task is to judge how similar the current monster is to the monster on the previous
            trial.<br>
            You can use the number keys on your keyboard to give responses in the task.<br>
            The keys have the following meaning:<br>
            For example, <b>"1"</b> on your keyboard corresponds to <b>not similar</b> at all.<br>
            In contrast, <b>"9"</b> on your keyboard corresponds to very <b>similar</b>.<br>
            The numbers in between represent intermediate similarity levels<br>
            After every response you are given feedback what your response was.<br><br>
            There is no option to relate the monster on the first trial to a previous monster.<br>
            Just respond with any key from 1-9 on the first trial.
        </p>
        <button type="button" name="button" ; onclick="clickStart('page7b', 'page8')" ;> Start
            Similarity Judgments</button>
    </div>


    <div id="trial_nr_cat" style="display:none">0</div>
    <div id="rt" style="display:none">0</div>
    <div id="key_id" style="display:none">0</div>

    <div id="page8" style="display:none">
        <h1>
            Part 2 of the Experiment!
        </h1>
        <p>
            By clicking on the button below, you start the task of part 2.
        </p>
        <button type="button" name="button" ; onclick="next_item_cat('page8')" ;> Start Task </button>
    </div>

    <div id="page9" style="display:none;">
        <div style="text-align: center;">
            <img height="300px" id="item_displayed_cat" src="stimuli/placeholder-white.PNG">
        </div><br>

    </div>

    <div id="page10" style="display:none;">
        <h1>Time for a break!</h1>
        <h2 id="progress"></h2>
        <button type="button" name="button" ; onclick="next_item_cat('page10')" ;> Continue
        </button>

    </div>
    <br>

    <div id="page11" style="display:none">
        <h1>
            Very well done! That was it for part 2!
        </h1>
        <p>
            By clicking on the button below, you get to part 3.
        </p>
        <button type="button" name="button" ; onclick="clickStart('page11', 'page12')" ;> Instructions
            Memory Task </button>
    </div>


    <div id="trial_nr_cr2" style="display:none">0</div>
    <div id="page12" style="display:none">
        <h1>
            Part 3 of the Experiment!
        </h1>
        <p>
            By clicking on the button below, you start the task of part 3. It is again the memory task from part 1.
        </p>
        <script>
            var i = parseInt(document.getElementById("trial_nr_cr2").innerHTML);
        </script>
        <button type="button" name="button" ; onclick="next_item_cr('page12', i)" ;> Start
            Memory Task </button>
    </div>

    <div id="page13" style="display:none">
        <h1>
            You are done. Thank you very much for participating.
        </h1>

    </div>